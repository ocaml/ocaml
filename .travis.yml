#########################################################################
#                                                                       #
#                                 OCaml                                 #
#                                                                       #
#              Anil Madhavapeddy, University of Cambridge               #
#                                                                       #
#   Copyright 2014 Institut National de Recherche en Informatique et    #
#   en Automatique.  All rights reserved.  This file is distributed     #
#   under the terms of the Q Public License version 1.0.                #
#                                                                       #
#########################################################################

language: c
script: bash -ex .travis-ci.sh
sudo: false
addons:
  apt:
    sources:
    - llvm-toolchain-precise-3.6
    - ubuntu-toolchain-r-test
    packages:
    - build-essential
    - clang-3.6
    - m4
    - aspcud
env:
- MODE=gcc
- MODE=gcc CONFIGURE_FLAGS=-with-debug-runtime
- MODE=clang-scan
before_install:
- openssl aes-256-cbc -K $encrypted_9df4cc675af8_key -iv $encrypted_9df4cc675af8_iv
  -in .deploy_key.enc -out .deploy_key -d
- chmod 600 .deploy_key
